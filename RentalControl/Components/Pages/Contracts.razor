@page "/contracts"

<PageTitle>Contratos</PageTitle>

@if (Items is null)
{
    <MudProgressCircular Color="Color.Default" Indeterminate="true" />
}
else
{
    <MudDataGrid Items="@Items">
        <ToolBarContent>
            <MudText>Contratos</MudText>
            <MudSpacer/>
            <MudButton OnClick="@AddItem" Variant="Variant.Filled">Agregar</MudButton>
        </ToolBarContent>
        <Columns>
            <PropertyColumn Property="x => x.Tenant.Name"/>
            <PropertyColumn Property="x => x.Address.ShortAddress"/>
            <PropertyColumn Property="x => x.Deposit"/>
            <PropertyColumn Property="x => x.Rent"/>
            <PropertyColumn Property="x => x.Business"/>
            <PropertyColumn Property="x => x.StartDate"/>
            <PropertyColumn Property="x => x.EndDate"/>
            <PropertyColumn Property="x => x.Status"/>
            <PropertyColumn Property="x => x.Type"/>
            <TemplateColumn>
                <CellTemplate>
                    <MudButton Size="@Size.Small" Variant="@Variant.Filled" Color="@Color.Error" OnClick="@(() => RemoveItem(context.Item))">
                        <MudIcon Icon="@Icons.Material.Filled.Delete"/>
                    </MudButton>
                </CellTemplate>
            </TemplateColumn>
        </Columns>
    </MudDataGrid>
}