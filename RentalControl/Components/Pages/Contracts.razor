@page "/contracts"

<PageTitle>Contratos</PageTitle>

@if (Items is null)
{
    <MudProgressCircular Color="Color.Default" Indeterminate="true" />
}
else
{
    <MudDataGrid Items="@Items">
        <ToolBarContent>
            <MudText>Contratos</MudText>
            <MudSpacer/>
            <MudButton OnClick="@OpenAddDialog" Variant="Variant.Filled">Agregar</MudButton>
        </ToolBarContent>
        <Columns>
            <PropertyColumn Property="x => x.Tenant.Name" Title="Nombre"/>
            <PropertyColumn Property="x => x.Address.ShortAddress" Title="DirecciÃ³n"/>
            <PropertyColumn Property="x => x.Deposit" Title="Deposito"/>
            <PropertyColumn Property="x => x.Rent" Title="Renta"/>
            <PropertyColumn Property="x => x.Business" Title="Negocio"/>
            <PropertyColumn Property="x => x.StartDate" Title="Inicio"/>
            <PropertyColumn Property="x => x.EndDate" Title="Termino"/>
            <PropertyColumn Property="x => x.Status" Title="Estado"/>
            <PropertyColumn Property="x => x.Type" Title="Tipo"/>
            <TemplateColumn>
                <CellTemplate>
                    <MudButton Size="@Size.Small" Variant="@Variant.Filled" Color="@Color.Error" OnClick="@(() => RemoveItem(context.Item))">
                        <MudIcon Icon="@Icons.Material.Filled.Delete"/>
                    </MudButton>
                </CellTemplate>
                <CellTemplate>
                    <MudButton Size="@Size.Small" Variant="@Variant.Filled" Color="@Color.Error" OnClick="@(() => GeneratePdf(context.Item.Id))">
                        <MudIcon Icon="@Icons.Material.Filled.Delete"/>
                    </MudButton>
                </CellTemplate>
            </TemplateColumn>
        </Columns>
    </MudDataGrid>
}